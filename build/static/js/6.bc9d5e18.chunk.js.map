{"version":3,"sources":["assets/icons/fire-cracker.svg","assets/icons/fireworks.svg","assets/icons/clapping.svg","assets/icons/trophy.svg","assets/icons/refresh.svg","assets/icons/right-arrow.svg","assets/icons/draw-check-mark.svg","assets/icons/box.svg","assets/icons/calendar.svg","assets/icons/delete.svg","assets/icons/soft-delete.svg","assets/icons/pencil.svg","assets/icons/magnifiying-glass.svg","assets/icons/left-arrow.svg","assets/icons/restore.svg","assets/icons/recycle-bin.svg","screens/AllNotes.tsx","screens/Home.tsx","assets/icons/done.svg","assets/icons/left-arrow-white.svg","screens/AddNote.tsx","screens/AddNoteMobile.tsx","assets/icons/house.svg","assets/icons/notes.svg","assets/icons/settings.svg","assets/icons/facebook.svg","screens/Settings.tsx","assets/icons/plus.svg","Main.tsx"],"names":["placeholderArray","placeholder","screenWidth","window","screen","width","AllNotes","props","recycleBin","setEditNoteNumber","useState","subjectFilterSelected","setSubjectFilterSelected","searchText","setSearchText","notesToShow","setNotesToShow","isRecycleBinEmpty","setIsRecycleBinEmpty","useContext","AppContext","states","allNotes","subs","isAnyNoteActive","actions","setAllNotes","setIsAnyNoteActive","searchInputRef","useRef","subjectFilterOptions","id","title","sNU","val","saveAndUpdate","retrieveIsRecycleBinEmptyStatus","useCallback","storedIsRecycleBinEmpty","localStorage","getItem","JSON","parse","isRecycleBinEmptyFunc","useEffect","document","tempNotesToShow","forEach","v","i","index","deleted","show","push","deleteNote","note","type","tempAllNotes","splice","schedulePushNotification","isAnyNoteActiveFunc","filter","subject","toLowerCase","includes","current","focus","blur","length","source","recycleBinIcon","text","className","style","backgroundColor","position","top","background","display","alignItems","justifyContent","zIndex","marginLeft","Dropdown","selected","options","setSelected","borderRadius","padding","color","onMouseDown","value","onChange","e","target","outline","border","borderBottom","fontSize","margin","transition","boxSizing","constants","mainColor","onClick","src","leftArrow","alt","ref","paddingBottom","marginRight","search","items","columnWidth","overscanBy","render","data","height","opacity","pointerEvents","itemIndex","editNote","slice","NoNotes","location","useLocation","pathname","box","NoteBox","marginBottom","refresh","revisionNumber","calender","flexFlow","format","Date","revisions","desc","trim","wordBreak","pencil","paddingRight","restore","alignSelf","deleteIcon","softDeleteIcon","congratsIcons","fireCracker","fireworks","clapping","trophy","date","Home","rewardMsgShow","setRewardMsgShow","notesToRevise","setNotesToRevise","currentRewardMsg","rewardIcon","setRewardIcon","refreshing","setRefreshing","rewardMsgTimeoutTime","rewardMsgs","Math","floor","random","isFuture","sub","days","hours","haveNotesToRevise","markAsRevised","setTimeout","skip","refreshFunc","refreshTime","differenceInSeconds","add","startOfDay","stringify","disabled","flexDirection","textAlign","fontWeight","Modal","center","Refreshing","count","setCount","left","ReviewBox","differenceInDaysConst","differenceInDays","paddingLeft","rightArrow","drawCheckMark","find","AddNote","addNoteActive","setAddNoteActive","editNoteNumber","noteAdded","setTitle","setDesc","firstNote","setFirstNote","pattern","setSubs","titleInputRef","addBtnRef","backBtnRef","chatObj","reply","executeFunction","setItem","Notification","requestPermission","then","permission","a","navigator","serviceWorker","getRegistration","reg","showNotification","tag","body","showTrigger","TimestampTrigger","getTime","badge","logoInBase64","icon","console","log","alert","indent","addEventListener","ctrlKey","key","copyOfTempNotes","keyDownFunc","click","toSet","itemName","overflow","allRevisions","uuidv4","unshift","addNote","done","marginTop","tabIndex","onFocus","onAdd","onDelete","minHeight","borderColor","maxLength","minWidth","bottom","AddNoteMobile","LogoAndVersion","lazy","Settings","notifications","setNotifications","alertMsg","setAlertMsg","navigate","useNavigate","heading","scheduleAllNotifications","closeAllNotifications","boxInfo","highlight","comingSoon","open","href","rel","fbLogo","fallback","Box","cursor","PrivacyPolicy","scrollTo","Credits","NotFound","Main","noNotesNotification","to","home","notes","settings","path","element","right","plus","getNotifications","includeTriggered","allNotifications","close","dataFns","trigger"],"mappings":"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","file":"static/js/6.bc9d5e18.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/fire-cracker.c46383b8.svg\";","export default __webpack_public_path__ + \"static/media/fireworks.c4076e84.svg\";","export default __webpack_public_path__ + \"static/media/clapping.15e8c433.svg\";","export default __webpack_public_path__ + \"static/media/trophy.09735a54.svg\";","export default __webpack_public_path__ + \"static/media/refresh.876ed42d.svg\";","export default __webpack_public_path__ + \"static/media/right-arrow.44150451.svg\";","export default __webpack_public_path__ + \"static/media/draw-check-mark.76247fa5.svg\";","export default __webpack_public_path__ + \"static/media/box.a1c3c21d.svg\";","export default __webpack_public_path__ + \"static/media/calendar.9b8dad0b.svg\";","export default __webpack_public_path__ + \"static/media/delete.3ef1c6cb.svg\";","export default __webpack_public_path__ + \"static/media/soft-delete.497cbf9a.svg\";","export default __webpack_public_path__ + \"static/media/pencil.aeeb6937.svg\";","export default __webpack_public_path__ + \"static/media/magnifiying-glass.5a0cb893.svg\";","export default __webpack_public_path__ + \"static/media/left-arrow.2d863411.svg\";","export default __webpack_public_path__ + \"static/media/restore.b610dd83.svg\";","export default __webpack_public_path__ + \"static/media/recycle-bin.66166996.svg\";","import React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { AppContext, saveAndUpdate } from \"../AppContext/AppContext\";\r\nimport { format } from \"date-fns\";\r\nimport { Masonry } from \"masonic\";\r\n\r\nimport {\r\n  constants,\r\n  isAnyNoteActiveFunc,\r\n  isRecycleBinEmptyFunc,\r\n  schedulePushNotification,\r\n} from \"../util/util\";\r\nimport Dropdown from \"../widgets/Dropdown\";\r\n\r\nimport box from \"../assets/icons/box.svg\";\r\nimport calender from \"../assets/icons/calendar.svg\";\r\nimport deleteIcon from \"../assets/icons/delete.svg\";\r\nimport softDeleteIcon from \"../assets/icons/soft-delete.svg\";\r\nimport pencil from \"../assets/icons/pencil.svg\";\r\nimport refresh from \"../assets/icons/refresh.svg\";\r\nimport search from \"../assets/icons/magnifiying-glass.svg\";\r\nimport leftArrow from \"../assets/icons/left-arrow.svg\";\r\nimport restore from \"../assets/icons/restore.svg\";\r\nimport recycleBinIcon from \"../assets/icons/recycle-bin.svg\";\r\nimport { useLocation } from \"react-router\";\r\nexport let placeholderArray = [\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n  { placeholder: true },\r\n];\r\n\r\nconst screenWidth = window.screen.width;\r\n\r\nif (window.screen.width < 768) {\r\n  placeholderArray = placeholderArray.slice(0, 15);\r\n}\r\nexport default function AllNotes(props: {\r\n  recycleBin?: boolean;\r\n  setEditNoteNumber?: (index: number) => void;\r\n}) {\r\n  const { recycleBin, setEditNoteNumber } = props;\r\n  const [subjectFilterSelected, setSubjectFilterSelected] = useState(\"All\");\r\n  const [searchText, setSearchText] = useState<any>(false);\r\n  const [notesToShow, setNotesToShow] = useState<any>([]);\r\n  const [isRecycleBinEmpty, setIsRecycleBinEmpty] = useState<boolean | null>(\r\n    null\r\n  );\r\n  const {\r\n    states: { allNotes, subs, isAnyNoteActive },\r\n    actions: { setAllNotes, setIsAnyNoteActive },\r\n  } = useContext<any>(AppContext);\r\n  const searchInputRef = useRef<any>();\r\n  const subjectFilterOptions = [\r\n    {\r\n      id: \"32324923\",\r\n      title: \"All\",\r\n    },\r\n    ...subs,\r\n  ];\r\n  const sNU = (val: any) => {\r\n    saveAndUpdate(\"isRecycleBinEmpty\", setIsRecycleBinEmpty, val);\r\n  };\r\n  const retrieveIsRecycleBinEmptyStatus = useCallback(() => {\r\n    if (isRecycleBinEmpty === null) {\r\n      const storedIsRecycleBinEmpty = localStorage.getItem(\"isRecycleBinEmpty\");\r\n      if (\r\n        storedIsRecycleBinEmpty === \"false\" ||\r\n        storedIsRecycleBinEmpty === \"true\"\r\n      ) {\r\n        setIsRecycleBinEmpty(JSON.parse(storedIsRecycleBinEmpty));\r\n      } else {\r\n        isRecycleBinEmptyFunc(allNotes, sNU);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    retrieveIsRecycleBinEmptyStatus();\r\n  }, []);\r\n  useEffect(() => {\r\n    document.title = recycleBin\r\n      ? \"Recycle Bin | Never Forget\"\r\n      : \"All Notes | Never Forget\";\r\n  }, [recycleBin]);\r\n  useEffect(() => {\r\n    const tempNotesToShow: any = [];\r\n\r\n    allNotes.forEach((v: any, i: any) => {\r\n      v.index = i;\r\n      if (recycleBin) {\r\n        if (v.deleted && v.show) {\r\n          tempNotesToShow.push(v);\r\n        }\r\n      } else {\r\n        if (!v.deleted && v.show) {\r\n          tempNotesToShow.push(v);\r\n        }\r\n      }\r\n    });\r\n\r\n    tempNotesToShow.push(...placeholderArray);\r\n    setNotesToShow(tempNotesToShow);\r\n  }, [recycleBin, allNotes]);\r\n\r\n  const deleteNote = (index: any, id: any, note: any, type?: string) => {\r\n    let tempAllNotes = [...allNotes];\r\n    if (type === \"permanentDelete\") {\r\n      tempAllNotes[index].deleted = false;\r\n      tempAllNotes.splice(index, 1);\r\n      setAllNotes(tempAllNotes);\r\n      isRecycleBinEmptyFunc(tempAllNotes, sNU);\r\n    } else {\r\n      if (type === \"restore\") {\r\n        tempAllNotes[index].deleted = false;\r\n        setAllNotes(tempAllNotes);\r\n        schedulePushNotification(note, false, note.title);\r\n        setIsAnyNoteActive(true);\r\n        isRecycleBinEmptyFunc(tempAllNotes, sNU);\r\n      } else {\r\n        tempAllNotes[index].deleted = true;\r\n        setAllNotes(tempAllNotes);\r\n        schedulePushNotification(note, \"delete\", \"\");\r\n        isAnyNoteActiveFunc(tempAllNotes, setIsAnyNoteActive);\r\n        sNU(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const deleteAll = () => {\r\n    let tempAllNotes = [...allNotes];\r\n    tempAllNotes = tempAllNotes.filter((v) => v.deleted !== true);\r\n    setAllNotes(tempAllNotes);\r\n    isRecycleBinEmptyFunc(tempAllNotes, sNU);\r\n  };\r\n\r\n  const filter = (val: any) => {\r\n    const tempAllNotes: any = [...allNotes];\r\n    if (\r\n      val.subject === \"All\" &&\r\n      (val.searchText === \"\" || val.searchText === false)\r\n    ) {\r\n      tempAllNotes.forEach((v: any) => {\r\n        v.show = true;\r\n      });\r\n    } else {\r\n      tempAllNotes.forEach((v: any) => {\r\n        const searchText = val.searchText\r\n          ? v.title.toLowerCase().includes(val.searchText.toLowerCase())\r\n          : true;\r\n        if (\r\n          searchText &&\r\n          (val.subject === \"All\" || v.subject === val.subject)\r\n        ) {\r\n          v.show = true;\r\n        } else if (!v.deleted) {\r\n          v.show = false;\r\n        }\r\n      });\r\n    }\r\n    setAllNotes(tempAllNotes, false);\r\n    setSubjectFilterSelected(val.subject);\r\n    setSearchText(val.searchText);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (searchText === \"\" || searchText) {\r\n      searchInputRef?.current?.focus();\r\n    } else {\r\n      searchInputRef?.current?.blur();\r\n    }\r\n  }, [searchText]);\r\n\r\n  return (\r\n    <>\r\n      {(isAnyNoteActive && allNotes.length !== 0) ||\r\n      (recycleBin && allNotes.length !== 0) ? (\r\n        recycleBin && isRecycleBinEmpty ? (\r\n          <NoNotes source={recycleBinIcon} text='Recycle bin is empty' />\r\n        ) : (\r\n          <div\r\n            className='all-notes-wrapper'\r\n            style={{\r\n              backgroundColor: \"#fff\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                position: \"sticky\",\r\n                top: recycleBin || window.screen.width < 768 ? 0 : \"100px\",\r\n                background: \"#fff\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"space-between\",\r\n                zIndex: 2,\r\n              }}\r\n            >\r\n              <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                <div\r\n                  style={{ marginLeft: 10, position: \"relative\", zIndex: 1 }}\r\n                >\r\n                  <Dropdown\r\n                    selected={subjectFilterSelected}\r\n                    title='Subject'\r\n                    options={subjectFilterOptions}\r\n                    setSelected={(val) =>\r\n                      filter({ subject: val, searchText: searchText })\r\n                    }\r\n                  />\r\n                </div>\r\n                {recycleBin && (\r\n                  <div\r\n                    style={{\r\n                      marginLeft: 10,\r\n                      backgroundColor: \"#d63031\",\r\n                      borderRadius: 6,\r\n                    }}\r\n                  >\r\n                    <button\r\n                      style={{ padding: \"10px 15px\", color: \"#fff\" }}\r\n                      onMouseDown={deleteAll}\r\n                    >\r\n                      Delete All\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {screenWidth > 768 ? (\r\n                <input\r\n                  placeholder='Search...'\r\n                  value={searchText ? searchText : \"\"}\r\n                  onChange={(e) =>\r\n                    filter({\r\n                      subject: subjectFilterSelected,\r\n                      searchText: e.target.value,\r\n                    })\r\n                  }\r\n                  className='addnote-input search'\r\n                  style={{\r\n                    background: \"transparent\",\r\n                    outline: \"none\",\r\n                    border: \"none\",\r\n                    borderBottom: \"2px solid #000\",\r\n                    fontSize: \"17px\",\r\n                    margin: \" 0 10px\",\r\n                    padding: \"4px\",\r\n                    width: \"40%\",\r\n                    transition: \".4s ease-in-out\",\r\n                  }}\r\n                />\r\n              ) : (\r\n                <>\r\n                  <div\r\n                    style={{\r\n                      boxSizing: \"border-box\",\r\n                      position: \"fixed\",\r\n                      top: searchText || searchText === \"\" ? 0 : -54,\r\n                      backgroundColor: constants.mainColor,\r\n                      width: \"100%\",\r\n                      padding: \"13px 7px\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      zIndex: 2,\r\n                      transition: \".3s ease-in-out\",\r\n                    }}\r\n                  >\r\n                    <button\r\n                      onClick={() => {\r\n                        filter({\r\n                          subject: subjectFilterSelected,\r\n                          searchText: false,\r\n                        });\r\n                      }}\r\n                    >\r\n                      <img\r\n                        style={{ width: \"20px\" }}\r\n                        src={leftArrow}\r\n                        alt='close'\r\n                      />\r\n                    </button>\r\n                    <input\r\n                      ref={searchInputRef}\r\n                      placeholder='Search...'\r\n                      value={searchText ? searchText : \"\"}\r\n                      onChange={(e) =>\r\n                        filter({\r\n                          subject: subjectFilterSelected,\r\n                          searchText: e.target.value,\r\n                        })\r\n                      }\r\n                      className='addnote-mobile-input search'\r\n                      style={{\r\n                        width: \"80%\",\r\n                        background: \"transparent\",\r\n                        outline: \"none\",\r\n                        border: \"none\",\r\n                        padding: \"4px\",\r\n                        paddingBottom: \"5px\",\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <button\r\n                    onMouseDown={() => setSearchText(\"\")}\r\n                    style={{ marginRight: 10 }}\r\n                  >\r\n                    <img style={{ width: \"20px\" }} src={search} alt='search' />\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n            {!recycleBin ? (\r\n              <Masonry\r\n                className='masonry'\r\n                // Provides the data for our grid items\r\n                items={notesToShow}\r\n                // Sets the minimum column width to 172px\r\n                columnWidth={260}\r\n                // Pre-renders 5 windows worth of content\r\n                overscanBy={2}\r\n                // This is the grid item component\r\n                render={(props: any) =>\r\n                  !props.data.placeholder ? (\r\n                    <NoteBox\r\n                      itemIndex={props.data.index}\r\n                      editNote={(index) =>\r\n                        setEditNoteNumber && setEditNoteNumber(index)\r\n                      }\r\n                      deleteNote={deleteNote}\r\n                      {...props}\r\n                    />\r\n                  ) : (\r\n                    <div\r\n                      style={{\r\n                        height: \"200px\",\r\n                        opacity: 0,\r\n                        pointerEvents: \"none\",\r\n                      }}\r\n                    >\r\n                      placeholder\r\n                    </div>\r\n                  )\r\n                }\r\n              />\r\n            ) : (\r\n              <Masonry\r\n                // Provides the data for our grid items\r\n                items={notesToShow}\r\n                // Sets the minimum column width to 172px\r\n                columnWidth={260}\r\n                // Pre-renders 5 windows worth of content\r\n                overscanBy={2}\r\n                // This is the grid item component\r\n                render={(props: any) =>\r\n                  !props.data.placeholder ? (\r\n                    <NoteBox\r\n                      recycleBin\r\n                      itemIndex={props.data.index}\r\n                      deleteNote={deleteNote}\r\n                      {...props}\r\n                    />\r\n                  ) : (\r\n                    <div\r\n                      style={{\r\n                        height: \"200px\",\r\n                        opacity: 0,\r\n                        pointerEvents: \"none\",\r\n                      }}\r\n                    >\r\n                      placeholder\r\n                    </div>\r\n                  )\r\n                }\r\n              />\r\n            )}\r\n          </div>\r\n        )\r\n      ) : (\r\n        <NoNotes />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport const NoNotes = (props: { source?: any; text?: string }) => {\r\n  const { source, text } = props;\r\n  const location = useLocation();\r\n  return (\r\n    <div\r\n      className='no-notes'\r\n      style={{\r\n        height:\r\n          window.screen.width < 768\r\n            ? \"calc(100vh - 33px)\"\r\n            : `calc(100vh - ${\r\n                location.pathname === \"/recycle-bin\" ? \"0px\" : \"150px\"\r\n              })`,\r\n      }}\r\n    >\r\n      <img src={source ? source : box} alt='empty' />\r\n      <p>{text ? text : \"No Notes yet\"}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NoteBox = (props: {\r\n  data: any;\r\n  itemIndex: number;\r\n  deleteNote: (index: any, id: any, note: any, type?: string) => void;\r\n  editNote?: (index: number) => void;\r\n  recycleBin?: boolean;\r\n}) => {\r\n  const { data: note, itemIndex, deleteNote, editNote, recycleBin } = props;\r\n  return (\r\n    <div\r\n      key={note.id}\r\n      style={{\r\n        border: \"2px solid #000\",\r\n        padding: 10,\r\n        borderRadius: 10,\r\n        margin: 10,\r\n      }}\r\n    >\r\n      <h2 style={{ fontSize: 30, margin: \"0 0 6px 0\" }}>{note.title}</h2>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          marginBottom: 10,\r\n        }}\r\n      >\r\n        {note.subject !== \"--None--\" && (\r\n          <span\r\n            style={{\r\n              borderRadius: 50,\r\n              backgroundColor: \"#b2bec3\",\r\n              padding: \"5px 13px\",\r\n              marginRight: 10,\r\n            }}\r\n          >\r\n            {note.subject}\r\n          </span>\r\n        )}\r\n        <img style={{ width: \"30px\" }} src={refresh} alt='time revised' />\r\n        <span style={{ fontSize: 16, marginLeft: 4 }}>\r\n          {note.revisionNumber}\r\n        </span>\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          marginBottom: 10,\r\n        }}\r\n      >\r\n        <img\r\n          style={{ width: 40, height: 38, marginRight: 10 }}\r\n          src={calender}\r\n          alt='date'\r\n        />\r\n        <div style={{ display: \"flex\", flexFlow: \"column\" }}>\r\n          <span>{format(new Date(note.revisions[0]), \"dd-MMM-yyyy\")}</span>\r\n          <span>\r\n            Next revision:{\" \"}\r\n            {format(\r\n              new Date(note.revisions[note.revisionNumber + 1]),\r\n              \"dd-MMM-yyyy\"\r\n            )}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {note.desc.trim() !== \"\" && (\r\n        <p\r\n          style={{\r\n            fontSize: 20,\r\n            marginBottom: 10,\r\n            wordBreak: \"break-word\",\r\n          }}\r\n        >\r\n          {note.desc}\r\n        </p>\r\n      )}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"flex-end\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        {editNote ? (\r\n          <button\r\n            onMouseDown={() => {\r\n              editNote && editNote(itemIndex);\r\n            }}\r\n          >\r\n            <img style={{ width: \"30px\" }} src={pencil} alt='edit' />\r\n          </button>\r\n        ) : (\r\n          <button\r\n            onMouseDown={() => deleteNote(itemIndex, note.id, note, \"restore\")}\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              backgroundColor: \"#27ae60\",\r\n              padding: \"5px 10px\",\r\n            }}\r\n          >\r\n            <span style={{ color: \"#fff\", paddingRight: 6 }}>Restore</span>\r\n            <img\r\n              style={{ height: 32, width: 32 }}\r\n              src={restore}\r\n              alt='restore'\r\n            />\r\n          </button>\r\n        )}\r\n        <button\r\n          style={{ alignSelf: \"flex-end\", marginLeft: 10 }}\r\n          onMouseDown={() => {\r\n            if (recycleBin) {\r\n              deleteNote(itemIndex, note.id, note, \"permanentDelete\");\r\n            } else {\r\n              deleteNote(itemIndex, note.id, note);\r\n            }\r\n          }}\r\n        >\r\n          {recycleBin ? (\r\n            <img style={{ width: \"30px\" }} src={deleteIcon} alt='delete' />\r\n          ) : (\r\n            <img\r\n              style={{ width: \"30px\" }}\r\n              src={softDeleteIcon}\r\n              alt='soft delete'\r\n            />\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  add,\r\n  differenceInDays,\r\n  differenceInSeconds,\r\n  isFuture,\r\n  startOfDay,\r\n  sub,\r\n} from \"date-fns\";\r\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AppContext, IAllNotes } from \"../AppContext/AppContext\";\r\nimport Modal from \"../widgets/Modal\";\r\nimport fireCracker from \"../assets/icons/fire-cracker.svg\";\r\nimport fireworks from \"../assets/icons/fireworks.svg\";\r\nimport clapping from \"../assets/icons/clapping.svg\";\r\nimport trophy from \"../assets/icons/trophy.svg\";\r\nimport refresh from \"../assets/icons/refresh.svg\";\r\nimport rightArrow from \"../assets/icons/right-arrow.svg\";\r\nimport drawCheckMark from \"../assets/icons/draw-check-mark.svg\";\r\nimport { NoNotes, placeholderArray } from \"./AllNotes\";\r\nimport { Masonry } from \"masonic\";\r\nimport { constants } from \"../util/util\";\r\n\r\nconst congratsIcons = [fireCracker, fireworks, clapping, trophy];\r\n\r\nconst date = { active: false, days: 0, hours: 0 };\r\n\r\n// \"Congrats\",\r\n\r\nexport default function Home() {\r\n  const [rewardMsgShow, setRewardMsgShow] = useState(false);\r\n  const [notesToRevise, setNotesToRevise] = useState<boolean>(true);\r\n  const currentRewardMsg = useRef(\"Well done\");\r\n  const [rewardIcon, setRewardIcon] = useState<any>(null);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const [notesToShow, setNotesToShow] = useState([]);\r\n  const {\r\n    states: { allNotes, isAnyNoteActive },\r\n    actions: { setAllNotes },\r\n    constants: { rewardMsgTimeoutTime },\r\n  } = useContext<any>(AppContext);\r\n\r\n  useEffect(() => {\r\n    currentRewardMsg.current =\r\n      constants.rewardMsgs[\r\n        Math.floor(Math.random() * constants.rewardMsgs.length)\r\n      ];\r\n    document.title = \"Home | Never Forget\";\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const tempNotesToShow: any = [];\r\n\r\n    allNotes.forEach((v: any, i: any) => {\r\n      v.index = i;\r\n      if (\r\n        v.revisions[v.revisionNumber + 1] &&\r\n        !v.deleted &&\r\n        !isFuture(\r\n          sub(new Date(v.revisions[v.revisionNumber + 1]), {\r\n            days: date.days,\r\n            hours: date.hours,\r\n          })\r\n        )\r\n      ) {\r\n        tempNotesToShow.push(v);\r\n      }\r\n    });\r\n\r\n    tempNotesToShow.push(...placeholderArray);\r\n    setNotesToShow(tempNotesToShow);\r\n    setNotesToRevise(!!haveNotesToRevise(allNotes));\r\n  }, [allNotes]);\r\n\r\n  useEffect(() => {\r\n    if (!notesToRevise) {\r\n      setRewardIcon(\r\n        congratsIcons[Math.floor(Math.random() * congratsIcons.length)]\r\n      );\r\n    }\r\n  }, [notesToRevise]);\r\n\r\n  const markAsRevised = (itemIndex: number, id: string) => {\r\n    const tempAllNotes = [...allNotes];\r\n\r\n    setRewardMsgShow(true);\r\n\r\n    setTimeout(() => {\r\n      tempAllNotes[itemIndex].revisionNumber += 1;\r\n      setAllNotes(tempAllNotes);\r\n      setTimeout(() => {\r\n        currentRewardMsg.current =\r\n          constants.rewardMsgs[\r\n            Math.floor(Math.random() * constants.rewardMsgs.length)\r\n          ];\r\n        setRewardMsgShow(false);\r\n      }, rewardMsgTimeoutTime + 500);\r\n    }, 10);\r\n  };\r\n\r\n  const skip = (itemIndex: number) => {\r\n    const tempAllNotes = [...allNotes];\r\n    tempAllNotes[itemIndex].revisions.splice(\r\n      tempAllNotes[itemIndex].revisionNumber + 1,\r\n      1\r\n    );\r\n    setAllNotes(tempAllNotes);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const refreshFunc = () => {\r\n      const refreshTime =\r\n        differenceInSeconds(\r\n          add(startOfDay(new Date()), { days: 1 }),\r\n          new Date()\r\n        ) * 1000;\r\n      if (refreshTime > 1000 * 60) {\r\n        setTimeout(() => {\r\n          refreshFunc();\r\n        }, 1000 * 60);\r\n      } else {\r\n        setTimeout(() => {\r\n          setRefreshing(true);\r\n          setTimeout(() => {\r\n            setNotesToRevise(!!haveNotesToRevise(allNotes));\r\n            setTimeout(() => {\r\n              setRefreshing(false);\r\n            }, 1000);\r\n          }, 1000);\r\n        }, refreshTime);\r\n      }\r\n    };\r\n    refreshFunc();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      {isAnyNoteActive && allNotes.length !== 0 ? (\r\n        <div className='home-wrapper'>\r\n          {date.active && (\r\n            <>\r\n              <p>\r\n                {JSON.stringify(\r\n                  sub(new Date(), {\r\n                    days: date.days,\r\n                    hours: date.hours,\r\n                  })\r\n                )}\r\n              </p>\r\n              <p>{JSON.stringify(new Date())}</p>\r\n            </>\r\n          )}\r\n          {notesToRevise ? (\r\n            <Masonry\r\n              className='masonry'\r\n              // Provides the data for our grid items\r\n              items={notesToShow}\r\n              // Sets the minimum column width to 172px\r\n              columnWidth={260}\r\n              // Pre-renders 5 windows worth of content\r\n              overscanBy={2}\r\n              // This is the grid item component\r\n              render={(props: any) =>\r\n                !props.data.placeholder ? (\r\n                  <ReviewBox\r\n                    itemIndex={props.data.index}\r\n                    disabled={rewardMsgShow}\r\n                    note={props.data as IAllNotes}\r\n                    markAsRevised={markAsRevised}\r\n                    skip={skip}\r\n                  />\r\n                ) : (\r\n                  <div\r\n                    style={{\r\n                      height: \"200px\",\r\n                      opacity: 0,\r\n                      pointerEvents: \"none\",\r\n                    }}\r\n                  >\r\n                    placeholder\r\n                  </div>\r\n                )\r\n              }\r\n            />\r\n          ) : (\r\n            <div\r\n              className='revisions-complete'\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                backgroundColor: \"#fff\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                height:\r\n                  window.screen.width < 768\r\n                    ? \"calc(100vh - 70px)\"\r\n                    : \"calc(100vh - 150px)\",\r\n              }}\r\n            >\r\n              <img src={rewardIcon} alt='trophy' />\r\n              <p\r\n                style={{\r\n                  textAlign: \"center\",\r\n                  fontWeight: \"bold\",\r\n                }}\r\n              >\r\n                Congrats! You have done all your revisions on time!\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {rewardMsgShow && (\r\n            <Modal\r\n              text={currentRewardMsg.current}\r\n              center\r\n              color={constants.mainColor}\r\n            />\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <NoNotes />\r\n      )}\r\n      {refreshing && <Refreshing />}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Refreshing = () => {\r\n  const [count, setCount] = useState(3);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setCount(2);\r\n    }, 1000);\r\n\r\n    setTimeout(() => {\r\n      setCount(1);\r\n    }, 2000);\r\n\r\n    setTimeout(() => {\r\n      setCount(0);\r\n    }, 3000);\r\n  }, []);\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"100vh\",\r\n        backgroundColor: \"rgba(0,0,0,.4)\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        display: \"flex\",\r\n        flexFlow: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <p style={{ fontSize: 20 }}>Refreshing...</p>\r\n      <p style={{ fontSize: 160, margin: 0 }}>{count}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ReviewBox = (props: {\r\n  note: IAllNotes;\r\n  markAsRevised: (itemIndex: number, id: string) => void;\r\n  skip: (itemIndex: number, id: string) => void;\r\n  disabled: boolean;\r\n  itemIndex: any;\r\n}) => {\r\n  const { note, markAsRevised, skip, disabled, itemIndex } = props;\r\n  const differenceInDaysConst = differenceInDays(\r\n    new Date(),\r\n    sub(new Date(note.revisions[note.revisionNumber + 1]), {\r\n      days: date.days,\r\n      hours: date.hours,\r\n    })\r\n  );\r\n  return (\r\n    <div\r\n      style={{\r\n        border: \"2px solid #000\",\r\n        padding: 10,\r\n        borderRadius: 10,\r\n        boxSizing: \"border-box\",\r\n        margin: 10,\r\n      }}\r\n    >\r\n      <h2 style={{ fontSize: \"30px\", margin: 0 }}>{note.title}</h2>\r\n      {differenceInDaysConst > 0 ? (\r\n        <p\r\n          style={{\r\n            marginBottom: 3,\r\n            color: \"#e74c3c\",\r\n            wordBreak: \"break-word\",\r\n          }}\r\n        >\r\n          {differenceInDaysConst} {differenceInDaysConst > 1 ? \"days\" : \"day\"}{\" \"}\r\n          ago\r\n        </p>\r\n      ) : null}\r\n      <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: 10 }}>\r\n        {note.subject !== \"--None--\" && (\r\n          <span\r\n            style={{\r\n              borderRadius: 50,\r\n              backgroundColor: \"#b2bec3\",\r\n              padding: \"5px 13px\",\r\n              marginRight: 10,\r\n            }}\r\n          >\r\n            {note.subject}\r\n          </span>\r\n        )}\r\n        <img\r\n          style={{ width: \"30px\", margin: \"0 0 6px 0\" }}\r\n          src={refresh}\r\n          alt='time revised'\r\n        />\r\n        <span style={{ fontSize: 16, marginLeft: 4 }}>\r\n          {note.revisionNumber}\r\n        </span>\r\n      </div>\r\n      {note.desc.trim() !== \"\" && (\r\n        <p style={{ fontSize: 20, marginBottom: 10 }}>{note.desc}</p>\r\n      )}\r\n      <div\r\n        style={{ display: \"flex\", width: \"100%\", justifyContent: \"flex-end\" }}\r\n      >\r\n        <div style={{ display: \"flex\" }}>\r\n          <div style={{ marginRight: 15 }}>\r\n            <button\r\n              style={{\r\n                backgroundColor: disabled ? \"#34495e\" : \"#e74c3c\",\r\n                paddingLeft: 10,\r\n              }}\r\n              disabled={disabled}\r\n              onMouseDown={() => skip(itemIndex, note.id)}\r\n            >\r\n              <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                <span style={{ color: \"#ededed\" }}>Skip</span>\r\n                <img style={{ width: \"30px\" }} src={rightArrow} alt='skip' />\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <button\r\n            disabled={disabled}\r\n            onMouseDown={() => markAsRevised(itemIndex, note.id)}\r\n          >\r\n            <img\r\n              style={{ width: \"30px\" }}\r\n              src={drawCheckMark}\r\n              alt='mark as revised'\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst haveNotesToRevise = (allNotes: any) =>\r\n  allNotes.find((v: any) => {\r\n    return (\r\n      !v.deleted &&\r\n      !isFuture(\r\n        sub(new Date(v.revisions[v.revisionNumber + 1]), {\r\n          days: date.days,\r\n          hours: date.hours,\r\n        })\r\n      )\r\n    );\r\n  });\r\n","export default __webpack_public_path__ + \"static/media/done.2f4dfea7.svg\";","export default __webpack_public_path__ + \"static/media/left-arrow-white.8a37d3ef.svg\";","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AppContext } from \"../AppContext/AppContext\";\r\nimport Dropdown from \"../widgets/Dropdown\";\r\nimport { add, startOfDay } from \"date-fns/esm\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Modal from \"../widgets/Modal\";\r\nimport done from \"../assets/icons/done.svg\";\r\nimport leftArrow from \"../assets/icons/left-arrow-white.svg\";\r\nimport {\r\n  constants,\r\n  logoInBase64,\r\n  schedulePushNotification,\r\n} from \"../util/util\";\r\n\r\nexport default function AddNote(props: {\r\n  editNoteNumber: number;\r\n  setEditNoteNumber: (index: number) => void;\r\n  noteAdded: () => void;\r\n}) {\r\n  const [addNoteActive, setAddNoteActive] = useState<boolean>(false);\r\n  const { editNoteNumber, setEditNoteNumber, noteAdded } = props;\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [firstNote, setFirstNote] = useState(true);\r\n  const pattern = useRef<number[]>([1, 7, 30, 90, 365]).current;\r\n\r\n  const {\r\n    states: { subs, allNotes, isAnyNoteActive },\r\n    actions: { setSubs, setAllNotes, setIsAnyNoteActive },\r\n  } = useContext<any>(AppContext);\r\n  const [selected, setSelected] = useState(subs[0].title);\r\n  const titleInputRef = useRef<any>();\r\n  const addBtnRef = useRef<any>();\r\n  const backBtnRef = useRef<any>();\r\n\r\n  const chatObj = [\r\n    [\r\n      {\r\n        id: \"8899854728\",\r\n        text: \"That's great!\",\r\n        reply: \"Thanks\",\r\n        executeFunction: () => {\r\n          localStorage.setItem(\"firstNote\", \"false\");\r\n          setTimeout(() => {\r\n            setFirstNote(false);\r\n          }, 3000);\r\n        },\r\n      },\r\n      {\r\n        id: \"7194853255\",\r\n        text: \"Thanks! And turn on notifications.\",\r\n        reply: \"You're welcome. Please allow notification permission.\",\r\n        executeFunction: () => {\r\n          Notification.requestPermission().then(async (permission) => {\r\n            if (permission === \"granted\") {\r\n              try {\r\n                const reg = await navigator.serviceWorker.getRegistration();\r\n                reg?.showNotification(\"Notifications are on \", {\r\n                  tag: \"SS\", // a unique ID\r\n                  body:\r\n                    \"If you have revision(s), You'll receive a notification of your revision(s) at 6:00am\", // content of the push notification\r\n                  // @ts-ignore\r\n                  showTrigger: new TimestampTrigger(new Date().getTime()), // set the time for the push notification\r\n                  badge: logoInBase64,\r\n                  icon: logoInBase64,\r\n                });\r\n                localStorage.setItem(\"notifications\", JSON.stringify(\"On\"));\r\n              } catch (err) {\r\n                console.log(err);\r\n                alert(\r\n                  \"Failed! Please try again using an updated version of chrome.\"\r\n                );\r\n              }\r\n            } else {\r\n              localStorage.setItem(\"notifications\", JSON.stringify(\"Off\"));\r\n            }\r\n          });\r\n        },\r\n        indent: [\r\n          {\r\n            id: \"3841829741\",\r\n            text: \"\",\r\n            reply: \"\",\r\n            executeFunction: () => {\r\n              localStorage.setItem(\"firstNote\", \"false\");\r\n              setTimeout(() => {\r\n                setFirstNote(false);\r\n              }, 3000);\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  ];\r\n  useEffect(() => {\r\n    setItem(setFirstNote, \"firstNote\");\r\n    if (!isAnyNoteActive && isAnyNoteActive !== null) {\r\n      setTimeout(() => {\r\n        setAddNoteActive(true);\r\n      }, 1000);\r\n    }\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      if (e.ctrlKey && e.key === \"i\") {\r\n        setAddNoteActive(true);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSelected(subs[0].title);\r\n  }, [subs]);\r\n  const copyOfTempNotes = [...allNotes];\r\n  useEffect(() => {\r\n    if (editNoteNumber !== -1) {\r\n      setTitle(copyOfTempNotes[editNoteNumber].title);\r\n      setDesc(copyOfTempNotes[editNoteNumber].desc);\r\n      setSelected(copyOfTempNotes[editNoteNumber].subject);\r\n      setAddNoteActive(true);\r\n    }\r\n  }, [editNoteNumber]);\r\n\r\n  useEffect(() => {\r\n    if (addNoteActive) {\r\n      titleInputRef?.current.focus();\r\n    } else {\r\n      titleInputRef?.current.blur();\r\n    }\r\n  }, [addNoteActive]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", keyDownFunc);\r\n  }, [addNoteActive]);\r\n\r\n  const keyDownFunc = (e: any) => {\r\n    if (addNoteActive) {\r\n      if (e.ctrlKey && e.key === \"Enter\") {\r\n        addBtnRef?.current?.click();\r\n      }\r\n      if (e.key === \"Escape\") {\r\n        backBtnRef?.current?.click();\r\n      }\r\n    }\r\n  };\r\n\r\n  const addNote = () => {\r\n    let allRevisions = [startOfDay(new Date())];\r\n    for (let i = 0; i < pattern.length; i++) {\r\n      allRevisions.push(add(startOfDay(new Date()), { days: pattern[i] }));\r\n    }\r\n\r\n    const tempAllNotes = [...allNotes];\r\n\r\n    // for (let i = 0; i < 1000; i++) {\r\n    const note = {\r\n      id: uuidv4(),\r\n      title: title,\r\n      // title: title + i,\r\n      desc,\r\n      subject: selected,\r\n      pattern,\r\n      revisions: allRevisions,\r\n      revisionNumber: 0,\r\n      deleted: false,\r\n      show: true,\r\n    };\r\n    tempAllNotes.unshift(note);\r\n    // }\r\n    setAllNotes(tempAllNotes);\r\n    setIsAnyNoteActive(true);\r\n    setTimeout(() => {\r\n      noteAdded();\r\n    }, 10);\r\n\r\n    schedulePushNotification(note, false, title);\r\n\r\n    setTimeout(() => {\r\n      setTitle(\"\");\r\n      setDesc(\"\");\r\n    }, 200);\r\n  };\r\n\r\n  const setItem = (toSet: any, itemName: string) => {\r\n    const value = localStorage.getItem(itemName);\r\n    if (value !== \"false\") {\r\n      toSet(true);\r\n    } else {\r\n      toSet(false);\r\n    }\r\n  };\r\n  const editNote = () => {\r\n    let tempAllNotes = [...allNotes];\r\n    const note = { ...tempAllNotes[editNoteNumber] };\r\n    if (note.title !== title) {\r\n      schedulePushNotification(note, \"edit\", title);\r\n    }\r\n    tempAllNotes[editNoteNumber].title = title;\r\n    tempAllNotes[editNoteNumber].desc = desc;\r\n    tempAllNotes[editNoteNumber].subject = selected;\r\n    setAllNotes(tempAllNotes);\r\n    setTimeout(() => {\r\n      setTitle(\"\");\r\n      setDesc(\"\");\r\n      setEditNoteNumber(-1);\r\n    }, 200);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: constants.mainColor,\r\n        height: addNoteActive ? \"100vh\" : \"100px\",\r\n        width: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        padding: \"10px\",\r\n        transition: \".4s ease-in-out\",\r\n        overflow: \"hidden\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 100,\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          width: addNoteActive ? \"92%\" : \"100%\",\r\n          backgroundColor: constants.mainColor,\r\n          height: addNoteActive ? \"100px\" : \"0\",\r\n          overflow: \"hidden\",\r\n          transition: \".4s ease-in-out\",\r\n          margin: \"auto\",\r\n        }}\r\n      >\r\n        <button\r\n          title='Esc'\r\n          style={{ padding: 10 }}\r\n          onClick={() => {\r\n            setAddNoteActive(false);\r\n            if (editNoteNumber >= 0) {\r\n              setTimeout(() => {\r\n                setTitle(\"\");\r\n                setDesc(\"\");\r\n                setEditNoteNumber(-1);\r\n              }, 500);\r\n            }\r\n          }}\r\n          ref={backBtnRef}\r\n        >\r\n          <img style={{ width: \"30px\" }} src={leftArrow} alt='close' />\r\n        </button>\r\n        <button\r\n          title='ctrl + Enter'\r\n          ref={addBtnRef}\r\n          disabled={title.trim() === \"\" ? true : false || !addNoteActive}\r\n          onClick={() => {\r\n            setAddNoteActive(false);\r\n            if (editNoteNumber >= 0) {\r\n              editNote();\r\n            } else {\r\n              addNote();\r\n            }\r\n          }}\r\n        >\r\n          <img style={{ width: \"30px\" }} src={done} alt='save note' />\r\n        </button>\r\n      </div>\r\n      <div className='addnote-wrapper'>\r\n        <h1\r\n          style={{\r\n            color: \"white\",\r\n            marginTop: 0,\r\n            textAlign: \"center\",\r\n            fontSize: addNoteActive ? \"54px\" : \"29px\",\r\n            transition: \".4s ease-in-out\",\r\n          }}\r\n        >\r\n          {editNoteNumber !== -1 ? \"Edit Note\" : \"What you learned today?\"}\r\n        </h1>\r\n        <input\r\n          title='ctrl + i'\r\n          tabIndex={1}\r\n          onMouseDown={() => setAddNoteActive(true)}\r\n          onFocus={() => setAddNoteActive(true)}\r\n          className='addnote-input'\r\n          style={{\r\n            width: \"100%\",\r\n            background: \"transparent\",\r\n            outline: \"none\",\r\n            border: \"none\",\r\n            borderBottom: \"2px solid #000\",\r\n            fontSize: \"20px\",\r\n          }}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          placeholder='Title'\r\n          value={title}\r\n          ref={titleInputRef}\r\n        />\r\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <Dropdown\r\n            title='Subject'\r\n            options={subs}\r\n            selected={selected}\r\n            setSelected={setSelected}\r\n            onAdd={setSubs}\r\n            onDelete={setSubs}\r\n          />\r\n          <div\r\n            style={{\r\n              marginLeft: 10,\r\n              opacity: 0.7,\r\n              display: \"flex\",\r\n              flexFlow: \"column\",\r\n            }}\r\n          >\r\n            <span>Pattern: 1-7-30-90-365</span>\r\n            <span style={{ color: \"#d00000\" }}>\r\n              Custom pattern option coming soon\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <textarea\r\n          tabIndex={2}\r\n          style={{\r\n            width: \"100%\",\r\n            background: \"transparent\",\r\n            minHeight: 90,\r\n            borderColor: \"black\",\r\n            fontSize: 20,\r\n            outline: \"none\",\r\n            border: \"none\",\r\n            borderBottom: \"2px solid #000\",\r\n          }}\r\n          onChange={(e) => setDesc(e.target.value)}\r\n          placeholder='Description(optional)...'\r\n          value={desc}\r\n          maxLength={400}\r\n        />\r\n        <p\r\n          style={{\r\n            margin: 0,\r\n            textAlign: \"right\",\r\n            color: desc.length < 400 ? \"#000\" : \"#27ae60\",\r\n          }}\r\n        >\r\n          {desc.length}/400\r\n        </p>\r\n      </div>\r\n      {firstNote && addNoteActive && (\r\n        <div\r\n          style={{\r\n            width: \"30%\",\r\n            minWidth: \"245px\",\r\n            position: \"absolute\",\r\n            bottom: \"24px\",\r\n            left: \"6%\",\r\n          }}\r\n        >\r\n          <Modal\r\n            text=\"I'll remind you to revise it. So you Never Forget what's important to you.\"\r\n            chatObj={chatObj}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AppContext } from \"../AppContext/AppContext\";\r\nimport Dropdown from \"../widgets/Dropdown\";\r\nimport { add, startOfDay } from \"date-fns/esm\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport done from \"../assets/icons/done.svg\";\r\nimport leftArrow from \"../assets/icons/left-arrow-white.svg\";\r\nimport {\r\n  constants,\r\n  logoInBase64,\r\n  schedulePushNotification,\r\n} from \"../util/util\";\r\nimport Modal from \"../widgets/Modal\";\r\nimport { useLocation } from \"react-router\";\r\n\r\nexport default function AddNoteMobile(props: {\r\n  editNoteNumber: number;\r\n  setEditNoteNumber: (index: number) => void;\r\n  noteAdded: () => void;\r\n  addNoteActive: boolean;\r\n  setAddNoteActive: any;\r\n}) {\r\n  const {\r\n    editNoteNumber,\r\n    setEditNoteNumber,\r\n    noteAdded,\r\n    addNoteActive,\r\n    setAddNoteActive,\r\n  } = props;\r\n  const location = useLocation();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const pattern = useRef<number[]>([1, 7, 30, 90, 365]).current;\r\n  const [firstNote, setFirstNote] = useState(true);\r\n\r\n  const {\r\n    states: { subs, allNotes, isAnyNoteActive },\r\n    actions: { setSubs, setAllNotes, setIsAnyNoteActive },\r\n  } = useContext<any>(AppContext);\r\n  const [selected, setSelected] = useState(subs[0].title);\r\n  const titleInputRef = useRef<any>();\r\n\r\n  const chatObj = [\r\n    [\r\n      {\r\n        id: \"8899854728\",\r\n        text: \"That's great!\",\r\n        reply: \"Thanks\",\r\n        executeFunction: () => {\r\n          localStorage.setItem(\"firstNote\", \"false\");\r\n          setTimeout(() => {\r\n            setFirstNote(false);\r\n          }, 3000);\r\n        },\r\n      },\r\n      {\r\n        id: \"7194853255\",\r\n        text: \"Thanks! And turn on notifications.\",\r\n        reply: \"You're welcome. Please allow notification permission.\",\r\n        executeFunction: () => {\r\n          Notification.requestPermission().then(async (permission) => {\r\n            if (permission === \"granted\") {\r\n              try {\r\n                const reg = await navigator.serviceWorker.getRegistration();\r\n                reg?.showNotification(\"Notifications are on \", {\r\n                  tag: \"SS\", // a unique ID\r\n                  body:\r\n                    \"If you have revision(s), You'll receive a notification of your revision(s) at 6:00am\", // content of the push notification\r\n                  // @ts-ignore\r\n                  showTrigger: new TimestampTrigger(new Date().getTime()), // set the time for the push notification\r\n                  badge: logoInBase64,\r\n                  icon: logoInBase64,\r\n                });\r\n                localStorage.setItem(\"notifications\", JSON.stringify(\"On\"));\r\n              } catch (err) {\r\n                console.log(err);\r\n                alert(\r\n                  \"Failed! Please try again using an updated version of chrome.\"\r\n                );\r\n              }\r\n            } else {\r\n              localStorage.setItem(\"notifications\", JSON.stringify(\"Off\"));\r\n            }\r\n          });\r\n        },\r\n        indent: [\r\n          {\r\n            id: \"3841829741\",\r\n            text: \"\",\r\n            reply: \"\",\r\n            executeFunction: () => {\r\n              localStorage.setItem(\"firstNote\", \"false\");\r\n              setTimeout(() => {\r\n                setFirstNote(false);\r\n              }, 3000);\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  ];\r\n  useEffect(() => {\r\n    setItem(setFirstNote, \"firstNote\");\r\n    if (\r\n      !isAnyNoteActive &&\r\n      isAnyNoteActive !== null &&\r\n      (location.pathname === \"/\" || location.pathname === \"/all-notes\")\r\n    ) {\r\n      setTimeout(() => {\r\n        setAddNoteActive(true);\r\n      }, 1000);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSelected(subs[0].title);\r\n  }, [subs]);\r\n  const copyOfTempNotes = [...allNotes];\r\n  useEffect(() => {\r\n    if (editNoteNumber !== -1) {\r\n      setTitle(copyOfTempNotes[editNoteNumber].title);\r\n      setDesc(copyOfTempNotes[editNoteNumber].desc);\r\n      setSelected(copyOfTempNotes[editNoteNumber].subject);\r\n      setAddNoteActive(true);\r\n    }\r\n  }, [editNoteNumber]);\r\n  useEffect(() => {\r\n    if (addNoteActive && !firstNote) {\r\n      titleInputRef?.current.focus();\r\n    } else {\r\n      titleInputRef?.current.blur();\r\n    }\r\n  }, [addNoteActive, firstNote]);\r\n\r\n  const addNote = () => {\r\n    let allRevisions = [startOfDay(new Date())];\r\n    for (let i = 0; i < pattern.length; i++) {\r\n      allRevisions.push(add(startOfDay(new Date()), { days: pattern[i] }));\r\n    }\r\n\r\n    const tempAllNotes = [...allNotes];\r\n\r\n    // for (let i = 0; i < 1000; i++) {\r\n    const note = {\r\n      id: uuidv4(),\r\n      title: title,\r\n      // title: title + i,\r\n      desc,\r\n      subject: selected,\r\n      pattern,\r\n      revisions: allRevisions,\r\n      revisionNumber: 0,\r\n      deleted: false,\r\n      show: true,\r\n    };\r\n    tempAllNotes.unshift(note);\r\n    // }\r\n    setAllNotes(tempAllNotes);\r\n    setIsAnyNoteActive(true);\r\n    setTimeout(() => {\r\n      noteAdded();\r\n    }, 10);\r\n\r\n    schedulePushNotification(note, false, title);\r\n\r\n    setTimeout(() => {\r\n      setTitle(\"\");\r\n      setDesc(\"\");\r\n    }, 200);\r\n  };\r\n\r\n  const setItem = (toSet: any, itemName: string) => {\r\n    const value = localStorage.getItem(itemName);\r\n    if (value !== \"false\") {\r\n      toSet(true);\r\n    } else {\r\n      toSet(false);\r\n    }\r\n  };\r\n  const editNote = () => {\r\n    let tempAllNotes = [...allNotes];\r\n    const note = { ...tempAllNotes[editNoteNumber] };\r\n    if (note.title !== title) {\r\n      schedulePushNotification(note, \"edit\", title);\r\n    }\r\n    tempAllNotes[editNoteNumber].title = title;\r\n    tempAllNotes[editNoteNumber].desc = desc;\r\n    tempAllNotes[editNoteNumber].subject = selected;\r\n    setAllNotes(tempAllNotes);\r\n    setTimeout(() => {\r\n      setTitle(\"\");\r\n      setDesc(\"\");\r\n      setEditNoteNumber(-1);\r\n    }, 200);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: constants.mainColor,\r\n        boxSizing: \"border-box\",\r\n        padding: \"10px\",\r\n        transition: \".3s ease-in-out\",\r\n        overflow: \"auto\",\r\n        position: \"fixed\",\r\n        left: addNoteActive ? \"0\" : \"-100%\",\r\n        // display: addNoteActive ? \"block\" : \"none\",\r\n        height: \"100vh\",\r\n        width: \"100%\",\r\n        zIndex: 100,\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          boxSizing: \"border-box\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          padding: \"10px\",\r\n          transition: \".4s ease-in-out\",\r\n          width: \"100%\",\r\n          zIndex: 100,\r\n        }}\r\n      >\r\n        <button\r\n          style={{ padding: 10 }}\r\n          onMouseDown={() => {\r\n            setAddNoteActive(false);\r\n            if (editNoteNumber >= 0) {\r\n              setTimeout(() => {\r\n                setTitle(\"\");\r\n                setDesc(\"\");\r\n                setEditNoteNumber(-1);\r\n              }, 500);\r\n            }\r\n          }}\r\n        >\r\n          <img style={{ width: \"20px\" }} src={leftArrow} alt='close' />\r\n        </button>\r\n        <button\r\n          disabled={title.trim() === \"\" ? true : false || !addNoteActive}\r\n          onMouseDown={() => {\r\n            setAddNoteActive(false);\r\n            if (editNoteNumber >= 0) {\r\n              editNote();\r\n            } else {\r\n              addNote();\r\n            }\r\n          }}\r\n        >\r\n          <img style={{ width: \"20px\" }} src={done} alt='save note' />\r\n        </button>\r\n      </div>\r\n      <div\r\n        style={\r\n          {\r\n            // padding: \"0 100px\",\r\n          }\r\n        }\r\n      >\r\n        <h1\r\n          style={{\r\n            color: \"white\",\r\n            marginTop: 0,\r\n            textAlign: \"center\",\r\n            fontSize: \"35px\",\r\n            transition: \".4s ease-in-out\",\r\n          }}\r\n        >\r\n          {editNoteNumber !== -1 ? \"Edit Note\" : \"What you learned today?\"}\r\n        </h1>\r\n        <input\r\n          onMouseDown={() => setAddNoteActive(true)}\r\n          className='addnote-input'\r\n          style={{\r\n            width: \"100%\",\r\n            background: \"transparent\",\r\n            outline: \"none\",\r\n            border: \"none\",\r\n            borderBottom: \"2px solid #000\",\r\n            fontSize: \"20px\",\r\n          }}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          placeholder='Title'\r\n          value={title}\r\n          ref={titleInputRef}\r\n        />\r\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <Dropdown\r\n            title='Subject'\r\n            options={subs}\r\n            selected={selected}\r\n            setSelected={setSelected}\r\n            onAdd={setSubs}\r\n            onDelete={setSubs}\r\n          />\r\n          <div\r\n            style={{\r\n              marginLeft: 10,\r\n              opacity: 0.7,\r\n              display: \"flex\",\r\n              flexFlow: \"column\",\r\n            }}\r\n          >\r\n            <span>Pattern: 1-7-30-90-365</span>\r\n            <span style={{ color: \"#d00000\" }}>\r\n              Custom pattern option coming soon\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <textarea\r\n          style={{\r\n            width: \"100%\",\r\n            background: \"transparent\",\r\n            minHeight: 90,\r\n            borderColor: \"black\",\r\n            fontSize: 20,\r\n            outline: \"none\",\r\n            border: \"none\",\r\n            borderBottom: \"2px solid #000\",\r\n          }}\r\n          onChange={(e) => setDesc(e.target.value)}\r\n          placeholder='Description(optional)...'\r\n          value={desc}\r\n          maxLength={400}\r\n        />\r\n        <p\r\n          style={{\r\n            textAlign: \"right\",\r\n            color: desc.length < 400 ? \"#000\" : \"#27ae60\",\r\n            margin: 0,\r\n          }}\r\n        >\r\n          {desc.length}/400\r\n        </p>\r\n      </div>\r\n      {firstNote && addNoteActive && (\r\n        <div\r\n          style={{\r\n            width: \"30%\",\r\n            minWidth: \"245px\",\r\n            position: \"absolute\",\r\n            bottom: \"10%\",\r\n            left: \"6%\",\r\n          }}\r\n        >\r\n          <Modal\r\n            text=\"I'll remind you to revise it. So you Never Forget what's important to you.\"\r\n            chatObj={chatObj}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/house.f6fe9c3f.svg\";","export default __webpack_public_path__ + \"static/media/notes.55e7755f.svg\";","export default __webpack_public_path__ + \"static/media/settings.71e2b0f2.svg\";","export default __webpack_public_path__ + \"static/media/facebook.3f7115f9.svg\";","import React, { lazy, Suspense, useEffect, useState } from \"react\";\r\nimport {\r\n  closeAllNotifications,\r\n  scheduleAllNotifications,\r\n  saveAndUpdate,\r\n  setItem,\r\n} from \"../AppContext/AppContext\";\r\nimport Dropdown from \"../widgets/Dropdown\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { logoInBase64 } from \"../util/util\";\r\nimport fbLogo from \"../assets/icons/facebook.svg\";\r\nconst LogoAndVersion = lazy(() => import(\"../widgets/LogoAndVersion\"));\r\n\r\nexport default function Settings() {\r\n  const [notifications, setNotifications] = useState<\"On\" | \"Off\">(\"Off\");\r\n  const [alertMsg, setAlertMsg] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    document.title = \"Settings | Never Forget\";\r\n\r\n    if (Notification.permission === \"granted\") {\r\n      setItem(setNotifications, \"notifications\");\r\n    } else {\r\n      setNotifications(\"Off\");\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className='settings'>\r\n      <Box\r\n        heading='Turn On/Off Notifications'\r\n        desc=\"This feature is experimental. It may not work as expected in your device. Usually it works fine with Chrome. And we don't spam.\"\r\n        onMouseDown={(val: string) => {\r\n          if (val === \"On\" && notifications !== \"On\") {\r\n            Notification.requestPermission().then(async (permission) => {\r\n              if (permission === \"granted\") {\r\n                try {\r\n                  const reg = await navigator.serviceWorker.getRegistration();\r\n                  reg?.showNotification(\"Notifications are on \", {\r\n                    tag: \"SS\", // a unique ID\r\n                    body:\r\n                      \"If you have revision(s), You'll receive a notification of your revision(s) at 6:00am\", // content of the push notification\r\n                    // @ts-ignore\r\n                    showTrigger: new TimestampTrigger(new Date().getTime()), // set the time for the push notification\r\n                    badge: logoInBase64,\r\n                    icon: logoInBase64,\r\n                  });\r\n                  setAlertMsg(\"Scheduling notifications. Please wait...\");\r\n                  scheduleAllNotifications(setAlertMsg);\r\n                  saveAndUpdate(\"notifications\", setNotifications, \"On\");\r\n                } catch (err) {\r\n                  alert(\r\n                    \"Failed! Please try again using an updated version of chrome.\"\r\n                  );\r\n                  setAlertMsg(\r\n                    \"Failed! Please try again using an updated version of chrome.\"\r\n                  );\r\n                }\r\n              } else if (permission === \"denied\") {\r\n                setAlertMsg(\"You have blocked notification permission\");\r\n                saveAndUpdate(\"notifications\", setNotifications, \"Off\");\r\n              } else if (permission === \"default\") {\r\n                setAlertMsg(\r\n                  \"Please allow notification permission to receive notifications\"\r\n                );\r\n                saveAndUpdate(\"notifications\", setNotifications, \"Off\");\r\n              }\r\n            });\r\n          } else if (val === \"Off\") {\r\n            closeAllNotifications();\r\n            saveAndUpdate(\"notifications\", setNotifications, \"Off\");\r\n          }\r\n        }}\r\n        boxInfo={{ notifications: notifications, alertMsg: alertMsg }}\r\n        highlight\r\n      />\r\n      <Box\r\n        heading='Backup'\r\n        desc='Backup your data on google drive or in downloadable CSV or both. So you can switch device and still have your notes and data.'\r\n        comingSoon\r\n      />\r\n      <Box\r\n        heading='Remove Ads'\r\n        desc='Remove ads and have focused and distraction free study sessions.'\r\n        comingSoon\r\n      />\r\n      <Box\r\n        heading='Reminder Time'\r\n        desc='Reminder time of notes are currently fixed at 6:00am. It will be modifiable soon.'\r\n        comingSoon\r\n      />\r\n      <Box\r\n        heading='Recycle Bin'\r\n        desc='Your deleted notes from All Notes will appear here. You can delete them permanently or restore from here.'\r\n        onMouseDown={(val: string) => {\r\n          navigate(\"/recycle-bin\");\r\n        }}\r\n      />\r\n      <Box\r\n        heading='What is Spaced Repetition?'\r\n        onMouseDown={(val: string) => {\r\n          navigate(\"/what-is-spaced-repetition\");\r\n        }}\r\n      />\r\n      {/* Share with 2 people and get 2 months ad free. We won't really track whether you shared our app or not, we'll just trust your words. */}\r\n      <Box\r\n        heading='Contact Us'\r\n        desc='sandipsaha564@gmail.com'\r\n        onMouseDown={(val: string) => {\r\n          if (window.screen.width < 992) {\r\n            window.open(\"mailto:sandipsaha564@gmail.com\", \"_blank\");\r\n          } else {\r\n            window.open(\r\n              \"https://mail.google.com/mail/?view=cm&fs=1&to=sandipsaha564@gmail.com\",\r\n              \"_blank\"\r\n            );\r\n          }\r\n        }}\r\n      />\r\n      <Box\r\n        heading='Privacy Policy'\r\n        onMouseDown={(val: string) => {\r\n          navigate(\"/privacy-policy\");\r\n        }}\r\n      />\r\n      <Box\r\n        heading='Credits'\r\n        onMouseDown={(val: string) => {\r\n          navigate(\"/credits\");\r\n        }}\r\n      />\r\n\r\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n        <a\r\n          href='https://www.facebook.com/www.neverforgetanything/'\r\n          target='_blank'\r\n          rel='noreferrer'\r\n        >\r\n          <img\r\n            style={{ width: 30, marginLeft: 10 }}\r\n            src={fbLogo}\r\n            alt='Facebook page'\r\n          />\r\n        </a>\r\n        <span style={{ marginLeft: 10, marginBottom: 5 }}>Never Forget</span>\r\n      </div>\r\n      {window.screen.width < 768 && (\r\n        <div style={{ width: \"100vw\" }}>\r\n          <Suspense fallback={<div>Never Forget</div>}>\r\n            <LogoAndVersion />\r\n          </Suspense>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Box = (props: iBox) => {\r\n  const {\r\n    heading,\r\n    desc,\r\n    comingSoon,\r\n    onMouseDown,\r\n    highlight,\r\n    // shared,\r\n    // setShared,\r\n    boxInfo,\r\n  } = props;\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: \"0 8px\",\r\n        marginBottom: 10,\r\n        backgroundColor: highlight ? \"#27ae60\" : \"transparent\",\r\n        textAlign: \"left\",\r\n      }}\r\n    >\r\n      {heading === \"Turn On/Off Notifications\" ? (\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            padding: \"10px 0\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <div>\r\n              <h3\r\n                style={{\r\n                  fontSize: 20,\r\n                  color: highlight ? \"#fff\" : \"#000\",\r\n                  margin: 0,\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                {heading}\r\n              </h3>\r\n\r\n              <Dropdown\r\n                title='Notifications'\r\n                options={[\r\n                  { id: \"3418704314\", title: \"On\" },\r\n                  { id: \"3849189021\", title: \"Off\" },\r\n                ]}\r\n                selected={boxInfo?.notifications}\r\n                setSelected={(val) => onMouseDown(val)}\r\n              />\r\n              {boxInfo?.alertMsg && (\r\n                <p\r\n                  style={{\r\n                    margin: 0,\r\n                    marginBottom: \"7px\",\r\n                    fontSize: 13,\r\n                    color: \"#372f28\",\r\n                  }}\r\n                >\r\n                  {boxInfo?.alertMsg}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {desc && (\r\n            <p\r\n              style={{\r\n                color: highlight ? \"#fff\" : \"#000\",\r\n                paddingBottom: highlight ? 6 : 0,\r\n                margin: 0,\r\n                textAlign: \"left\",\r\n              }}\r\n            >\r\n              {desc}\r\n            </p>\r\n          )}\r\n          {comingSoon && (\r\n            <p style={{ color: \"red\", textAlign: \"left\", margin: 0 }}>\r\n              coming soon\r\n            </p>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <button\r\n          disabled={comingSoon}\r\n          onMouseDown={() => onMouseDown(heading)}\r\n          style={{\r\n            width: \"100%\",\r\n            opacity: comingSoon ? 0.5 : 1,\r\n            padding: \"10px 0\",\r\n            cursor: comingSoon ? \"no-drop\" : \"pointer\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <div>\r\n              <h3\r\n                style={{\r\n                  fontSize: 20,\r\n                  color: highlight ? \"#fff\" : \"#000\",\r\n                  margin: 0,\r\n                  fontWeight: \"normal\",\r\n                }}\r\n              >\r\n                {heading}\r\n              </h3>\r\n            </div>\r\n            {heading === \"Reminder Time\" && (\r\n              <p style={{ fontSize: 20, margin: 0 }}>6:00 am</p>\r\n            )}\r\n          </div>\r\n          {desc && (\r\n            <p\r\n              style={{\r\n                color: highlight ? \"#fff\" : \"#000\",\r\n                paddingBottom: highlight ? 6 : 0,\r\n                margin: 0,\r\n                textAlign: \"left\",\r\n              }}\r\n            >\r\n              {desc}\r\n            </p>\r\n          )}\r\n          {comingSoon && (\r\n            <p style={{ color: \"red\", textAlign: \"left\", margin: 0 }}>\r\n              coming soon\r\n            </p>\r\n          )}\r\n        </button>\r\n      )}\r\n      {/* {heading === \"Share\" && shared === \"I shared\" ? (\r\n        <Button\r\n          title='I shared'\r\n          onMouseDown={() => setShared && setShared(\"I didn't shared\")}\r\n        />\r\n      ) : heading === \"Share\" && shared === \"I didn't shared\" ? (\r\n        <>\r\n          <p style={{ paddingHorizontal: 20 }}>\r\n            Thanks for supporting us  Your gift is active {\" \"}\r\n          </p>\r\n          <Button\r\n            title=\"I didn't Shared\"\r\n            color='red'\r\n            onMouseDown={() => setShared && setShared(\"none\")}\r\n          />\r\n        </>\r\n      ) : (\r\n        false\r\n      )} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const PrivacyPolicy = () => {\r\n  useEffect(() => {\r\n    document.title = \"Privacy Policy | Never Forget\";\r\n\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n  return (\r\n    <div className='info-page'>\r\n      <h2\r\n        style={{ fontSize: 20, fontWeight: \"bold\", margin: 0, marginTop: 15 }}\r\n      >\r\n        Privacy Policy\r\n      </h2>\r\n      <p style={{ margin: \"7px 0\" }}>\r\n        Sandip Saha built the Never Forget app as an Ad Supported app. This\r\n        SERVICE is provided by Sandip at no cost and is intended for use as is.\r\n        This page is used to inform visitors regarding my policies with the\r\n        collection, use, and disclosure of Personal Information if anyone\r\n        decided to use my Service. Never Forget does not collect any personal\r\n        information from the user. It collects non identity revealing metrics\r\n        and never Forget use Google analytics and they may collect data as\r\n        needed.{\" \"}\r\n        <a href='https://policies.google.com/privacy?hl=en-US'>\r\n          Google's privacy policy\r\n        </a>\r\n      </p>\r\n      <h2\r\n        style={{ fontSize: 20, fontWeight: \"bold\", margin: 0, marginTop: 15 }}\r\n      >\r\n        Security\r\n      </h2>\r\n      <p style={{ margin: \"7px 0\" }}>\r\n        I value your trust in providing us your Personal Information, thus we\r\n        are striving to use commercially acceptable means of protecting it. But\r\n        remember that no method of transmission over the internet, or method of\r\n        electronic storage is 100% secure and reliable, and I cannot guarantee\r\n        its absolute security.\r\n      </p>\r\n      <h2\r\n        style={{ fontSize: 20, fontWeight: \"bold\", margin: 0, marginTop: 15 }}\r\n      >\r\n        Links to Other Sites\r\n      </h2>\r\n      <p style={{ margin: \"7px 0\" }}>\r\n        This Service may contain links to other sites. If you click on a\r\n        third-party link, you will be directed to that site. Note that these\r\n        external sites are not operated by me. Therefore, I strongly advise you\r\n        to review the Privacy Policy of these websites. I have no control over\r\n        and assume no responsibility for the content, privacy policies, or\r\n        practices of any third-party sites or services.\r\n      </p>\r\n      <h2\r\n        style={{ fontSize: 20, fontWeight: \"bold\", margin: 0, marginTop: 15 }}\r\n      >\r\n        Changes to This Privacy Policy\r\n      </h2>\r\n      <p style={{ margin: \"7px 0\" }}>\r\n        I may update our Privacy Policy from time to time. Thus, you are advised\r\n        to review this page periodically for any changes. I will notify you of\r\n        any changes by posting the new Privacy Policy on this page.\r\n      </p>\r\n      <h2\r\n        style={{ fontSize: 20, fontWeight: \"bold\", margin: 0, marginTop: 15 }}\r\n      >\r\n        Contact Us\r\n      </h2>\r\n      <p style={{ margin: \"7px 0\" }}>\r\n        If you have any questions or suggestions about my Privacy Policy, do not\r\n        hesitate to contact me at sandipsaha564@gmail.com. This privacy policy\r\n        page was created at\r\n        [privacypolicytemplate.net](https://privacypolicytemplate.net) and\r\n        modified/generated by [App Privacy Policy\r\n        Generator](https://app-privacy-policy-generator.nisrulz.com/)\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Credits = () => {\r\n  useEffect(() => {\r\n    document.title = \"Settings | Never Forget\";\r\n  }, []);\r\n  return (\r\n    <div className='info-page'>\r\n      <h2 style={{ fontSize: 20, fontWeight: \"bold\", marginTop: 15 }}>\r\n        Developer\r\n      </h2>\r\n      <p>Sandip Saha</p>\r\n      <h2 style={{ fontSize: 20, fontWeight: \"bold\", marginTop: 15 }}>Icons</h2>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a href='https://www.flaticon.com/authors/freepik' title='Freepik'>\r\n          Freepik\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a\r\n          href='https://www.flaticon.com/free-icon/calendar_425868?term=calender&page=2&position=48&related_item_id=425868'\r\n          title='Vectors Market'\r\n        >\r\n          Vectors Market\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a\r\n          href='https://www.flaticon.com/authors/roundicons'\r\n          title='Roundicons'\r\n        >\r\n          Roundicons\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a\r\n          href='https://www.flaticon.com/authors/pixelmeetup'\r\n          title='Pixelmeetup'\r\n        >\r\n          Pixelmeetup\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a href='https://www.flaticon.com/authors/google' title='Google'>\r\n          Google\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a\r\n          href='https://www.flaticon.com/authors/vectors-market'\r\n          title='Vectors Market'\r\n        >\r\n          Vectors Market\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a href='https://www.flaticon.com/authors/srip' title='srip'>\r\n          srip\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a href='https://www.flaticon.com/authors/eucalyp' title='Eucalyp'>\r\n          Eucalyp\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a\r\n          href='https://www.flaticon.com/authors/smashicons'\r\n          title='Smashicons'\r\n        >\r\n          Smashicons\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a href='https://www.flaticon.com/authors/monkik' title='monkik'>\r\n          monkik\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a href='https://www.flaticon.com/authors/bqlqn' title='bqlqn'>\r\n          bqlqn\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n      <div>\r\n        Icons made by{\" \"}\r\n        <a\r\n          href='https://www.flaticon.com/authors/pixel-perfect'\r\n          title='Pixel perfect'\r\n        >\r\n          Pixel perfect\r\n        </a>{\" \"}\r\n        from{\" \"}\r\n        <a href='https://www.flaticon.com/' title='Flaticon'>\r\n          www.flaticon.com\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// interfaces\r\n\r\ninterface iBox {\r\n  heading?: string;\r\n  desc?: string;\r\n  comingSoon?: boolean;\r\n  onMouseDown?: any;\r\n  highlight?: boolean;\r\n\r\n  shared?: string;\r\n  setShared?: (val: string) => void;\r\n\r\n  boxInfo?: any;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/plus.df7bedb4.svg\";","import React, { lazy, Suspense, useContext, useEffect, useState } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { Route, Routes } from \"react-router-dom\";\r\n\r\nimport { AppContext } from \"./AppContext/AppContext\";\r\nimport \"./App.css\";\r\nimport Home from \"./screens/Home\";\r\nimport AddNote from \"./screens/AddNote\";\r\nimport AddNoteMobile from \"./screens/AddNoteMobile\";\r\nimport AllNotes from \"./screens/AllNotes\";\r\nimport Modal from \"./widgets/Modal\";\r\nimport home from \"./assets/icons/house.svg\";\r\nimport notes from \"./assets/icons/notes.svg\";\r\nimport settings from \"./assets/icons/settings.svg\";\r\nimport Settings, { PrivacyPolicy, Credits } from \"./screens/Settings\";\r\nimport plus from \"../src/assets/icons/plus.svg\";\r\nimport { constants, logoInBase64 } from \"./util/util\";\r\nconst LogoAndVersion = lazy(() => import(\"./widgets/LogoAndVersion\"));\r\nconst NotFound = lazy(() => import(\"./screens/NotFound\"));\r\n\r\nexport default function Main() {\r\n  const [rewardMsgShow, setRewardMsgShow] = useState(false);\r\n  const [editNoteNumber, setEditNoteNumber] = useState(-1);\r\n  const [addNoteActive, setAddNoteActive] = useState<boolean>(false);\r\n  const {\r\n    states: { isAnyNoteActive },\r\n    constants: { rewardMsgTimeoutTime },\r\n  } = useContext<any>(AppContext);\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"firstNote\") === \"false\") {\r\n      noNotesNotification(isAnyNoteActive);\r\n    }\r\n    if (!isAnyNoteActive && window.location.pathname === \"/\") {\r\n      navigate(\"/all-notes\");\r\n    }\r\n  }, [isAnyNoteActive]);\r\n\r\n  return (\r\n    <>\r\n      <div className='container'>\r\n        {location.pathname !== \"/what-is-spaced-repetition\" && (\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <nav className='nav'>\r\n              <div className='menu'>\r\n                <Link\r\n                  className='nav-link'\r\n                  style={{\r\n                    color: location.pathname === \"/\" ? \"blue\" : \"#000\",\r\n                    backgroundColor:\r\n                      location.pathname === \"/\"\r\n                        ? window.screen.width < 768\r\n                          ? \"#e6e6e6\"\r\n                          : \"#d8d8d8\"\r\n                        : \"transparent\",\r\n                  }}\r\n                  to='/'\r\n                >\r\n                  <img style={{ width: \"21px\" }} src={home} alt='home' />\r\n                  <span>Home</span>\r\n                </Link>\r\n                <Link\r\n                  className='nav-link'\r\n                  style={{\r\n                    color: location.pathname === \"/all-notes\" ? \"blue\" : \"#000\",\r\n                    backgroundColor:\r\n                      location.pathname === \"/all-notes\"\r\n                        ? window.screen.width < 768\r\n                          ? \"#e6e6e6\"\r\n                          : \"#d8d8d8\"\r\n                        : \"transparent\",\r\n                  }}\r\n                  to='/all-notes'\r\n                >\r\n                  <img style={{ width: \"21px\" }} src={notes} alt='all notes' />\r\n                  <span>All Notes</span>\r\n                </Link>\r\n                <Link\r\n                  className='nav-link'\r\n                  style={{\r\n                    color: location.pathname === \"/settings\" ? \"blue\" : \"#000\",\r\n                    backgroundColor:\r\n                      location.pathname === \"/settings\"\r\n                        ? window.screen.width < 768\r\n                          ? \"#e6e6e6\"\r\n                          : \"#d8d8d8\"\r\n                        : \"transparent\",\r\n                  }}\r\n                  to='/settings'\r\n                >\r\n                  <img\r\n                    style={{ width: \"21px\" }}\r\n                    src={settings}\r\n                    alt='settings'\r\n                  />\r\n                  <span>Settings</span>\r\n                </Link>\r\n              </div>\r\n              {window.screen.width >= 768 && (\r\n                <Suspense fallback={<div>Never Forget</div>}>\r\n                  <LogoAndVersion />\r\n                </Suspense>\r\n              )}\r\n            </nav>\r\n\r\n            <main>\r\n              {window.screen.width >= 768 &&\r\n                (location.pathname === \"/\" ||\r\n                  location.pathname === \"/all-notes\") && (\r\n                  <AddNote\r\n                    editNoteNumber={editNoteNumber}\r\n                    setEditNoteNumber={setEditNoteNumber}\r\n                    noteAdded={() => {\r\n                      setRewardMsgShow(true);\r\n                      setTimeout(() => {\r\n                        setRewardMsgShow(false);\r\n                      }, rewardMsgTimeoutTime + 500);\r\n                    }}\r\n                  />\r\n                )}\r\n              <Routes>\r\n                <Route path='/' element={<Home />} />\r\n                <Route\r\n                  path='/all-notes'\r\n                  element={<AllNotes setEditNoteNumber={setEditNoteNumber} />}\r\n                />\r\n                <Route path='/settings' element={<Settings />} />\r\n                <Route path='/recycle-bin' element={<AllNotes recycleBin />} />\r\n                <Route path='/privacy-policy' element={<PrivacyPolicy />} />\r\n                <Route path='/credits' element={<Credits />} />\r\n                <Route\r\n                  path='/*'\r\n                  element={\r\n                    <Suspense fallback={<div>Page not found</div>}>\r\n                      <NotFound />\r\n                    </Suspense>\r\n                  }\r\n                />\r\n              </Routes>\r\n            </main>\r\n            {window.screen.width < 768 && (\r\n              <>\r\n                <AddNoteMobile\r\n                  editNoteNumber={editNoteNumber}\r\n                  setEditNoteNumber={setEditNoteNumber}\r\n                  noteAdded={() => {\r\n                    setRewardMsgShow(true);\r\n                    setTimeout(() => {\r\n                      setRewardMsgShow(false);\r\n                    }, rewardMsgTimeoutTime + 500);\r\n                  }}\r\n                  addNoteActive={addNoteActive}\r\n                  setAddNoteActive={setAddNoteActive}\r\n                />\r\n                {(window.location.pathname === \"/\" ||\r\n                  window.location.pathname === \"/all-notes\") && (\r\n                  <button\r\n                    onMouseDown={() => setAddNoteActive(true)}\r\n                    style={{ position: \"fixed\", bottom: 50, right: 5 }}\r\n                  >\r\n                    <img style={{ width: \"60px\" }} src={plus} alt='add' />\r\n                  </button>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n        {rewardMsgShow && (\r\n          <Modal\r\n            text={\r\n              constants.rewardMsgs[\r\n                Math.floor(Math.random() * constants.rewardMsgs.length)\r\n              ]\r\n            }\r\n            center\r\n            color={constants.mainColor}\r\n          />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst noNotesNotification = async (isAnyNoteActive: boolean) => {\r\n  console.log(\"run\");\r\n  if (JSON.parse(localStorage.getItem(\"notifications\") || \"\") !== \"On\") {\r\n    return;\r\n  }\r\n  const reg = await navigator.serviceWorker.getRegistration();\r\n  const allNotifications = await reg?.getNotifications({\r\n    // @ts-ignore\r\n    includeTriggered: true,\r\n  });\r\n  const noNotesNotification = allNotifications?.find(\r\n    (v) => v.tag === \"SS-EmptyNoteBox\"\r\n  );\r\n  if (isAnyNoteActive) {\r\n    noNotesNotification?.close();\r\n  } else if (isAnyNoteActive === false) {\r\n    if (!noNotesNotification) {\r\n      import(\"date-fns\").then((dataFns) => {\r\n        const trigger =\r\n          dataFns.differenceInSeconds(\r\n            dataFns.add(dataFns.startOfDay(new Date()), { days: 1, hours: 6 }),\r\n            new Date()\r\n          ) * 1000;\r\n        console.log(trigger);\r\n        if (Notification.permission !== \"granted\") {\r\n        } else {\r\n          reg?.showNotification(\"Your Note box is empty \", {\r\n            tag: \"SS-EmptyNoteBox\", // a unique ID\r\n            body: \"Add notes so you Never Forget what's important to you!\", // content of the push notification\r\n            // @ts-ignore\r\n            showTrigger: new TimestampTrigger(new Date().getTime() + trigger), // set the time for the push notification\r\n            badge: logoInBase64,\r\n            icon: logoInBase64,\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n"],"sourceRoot":""}